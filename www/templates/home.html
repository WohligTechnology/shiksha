<ion-view view-title="RUSA FUND TRACKER" ng-init="loadData(null)">
    <ion-nav-bar class="bar-positive">
        <!--<ion-nav-back-button>
    </ion-nav-back-button>-->
        <ion-nav-buttons side="left">
            <button class="button button-icon button-clear ion-navicon" menu-toggle="left">
      </button>
        </ion-nav-buttons>
        <ion-nav-buttons side="right">
            <button class="button button-icon button-clear search-btn ion-funnel padings" ng-click="filters();">
      </button>
            <!-- <button class="button button-icon button-clear search-btn ion-android-search" ui-sref="app.search">
      </button> -->
            <button class="button button-icon button-clear ion-android-more-vertical settings-btn padings">
      </button>
        </ion-nav-buttons>
    </ion-nav-bar>
    <ion-tabs class="tab-button tab-header has-header tabs-top">
        <ion-tab title="OVERVIEW">
            <ion-content class="has-tabs-top has-notabs has-tabs tabs-content">
                <div class="">
                    <!--<div class="top-div">
            <div class="row">
              <div class="col h5-border">
                <h5>450 <label for="">Projects to-date</label></h5>
              </div>
              <div class="col">
                <h5>76 <label for="">Active Projects</label></h5>
              </div>
            </div>
          </div>-->
                    <!-- <div class="item-note toggle-institute filtering">
                        <div class="button icon-left ion-funnel filter" ng-click="filters();">Filter</div>
                      </div> -->
                    <!--<div class="clearfix"></div>-->
                    <div class="mid-div">
                        <div class="row overview-mid">
                            <div class="col-60">
                                <div class="funds-all">
                                    <h5 class="text-center allocated-size stable ">
                                    <i class="ion-record release col2"></i> TOTAL ALLOCATION
                                  </h5>
                                    <h3 class="text-center bold f16 home-data">
                                    {{getProjectReport.data.totalComponentsFundAllocation.totalFundAllocation/10000000 | number:2 }} Cr
                                    <!--{{getProjectReport.data.totalComponentsFundAllocation.totalFundAllocation}} Lacs-->
                                  </h3>
                                </div>
                            </div>
                            <div class="col-40">
                                <div class="padding top pad-change">
                                    <div class="recordings">
                                        <p class="stable f12 text-center"><i class="ion-record release col1"></i>FUNDS RELEASED</p>

                                        <div class="text-center ">
                                            <!-- <p class="f16 bold">{{getTransactionReport.data.totalReleaseAndUtilization.totalFundRelease1/10000000 | number:2 }} Cr</p> -->
                                            <p class="f16 bold">{{totalReleasedAmount/10000000 | number:2 }} Cr</p>
                                        </div>
                                    </div>

                                </div>
                                <div class="padding recordings pad-change">
                                    <p class="stable f12 text-center"><i class="ion-record release col3"></i>FUNDS UTILIZED</p>

                                    <div class="text-center ">

                                        <p class="f16 bold ">{{getTransactionReport.data.totalReleaseAndUtilization.totalUtilization1/10000000 | number:2 }} Cr</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="chart-outside " >
                            <highchart id="gauge" class="meter-viewer"  config="overviewChart" style="width: 400px; height: 400px; margin: 0 auto" ng-if="overviewChartshow"></highchart>
                            <!-- <canvas id="doughnut" class="chart chart-doughnut noborder" chart-data="data" chart-labels="labels" chart-colors="colors"
                              chart-dataset-override="override" style="border:none;">
                            </canvas> -->
                            <h5 class="mid-label text-center" ng-if="overviewChartshow">
                              {{percent_utilized}}%<br> Fund Utilization
                            </h5>
                        </div>
                    </div>
                    <div class="components ">
                        <div class="row">
                            <div class="col-60">
                                <h5 class="footer-head">COMPONENTS</h5>
                            </div>
                            <div class="col-40 bleft">
                                <div class="padding top padding-tops">
                                    <div class="row">
                                        <div class="col">
                                            <p class="pull-left home-label">TOTAL</p>
                                        </div>
                                        <div class="col">
                                            <p class="pull-left home-content bold home-data f16"> {{getProjectReport.data.totalComponents.count}} </p>
                                        </div>
                                    </div>
                                </div>
                                <div class="<pa></pa>dding top padding-tops">
                                    <div class="row">
                                        <div class="col">
                                            <p class="pull-left home-label">DELAYED</p>
                                        </div>
                                        <div class="col">
                                            <p class="pull-left delayed bold  f16"> {{getProjectReport.data.totalComponents.count - getProjectReport.data.inTimeComponents.inTimeComponentsCount}}</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>

                    <div class="components bgs">
                        <div class="row">
                            <div class="col-60">
                                <h5 class="footer-head">PROJECTS</h5>
                            </div>
                            <div class="col-40 bleft">
                                <!--<h5 class="padding-tops">Funds Release</h5>-->
                                <div class="padding top padding-tops">
                                    <div class="row">
                                        <div class="col">
                                            <p class="pull-left home-label">TOTAL</p>
                                        </div>
                                        <div class="col">
                                            <p class="pull-left home-content bold home-data f16"> {{getProjectReport.data.totalProjects.count}} </p>
                                        </div>
                                    </div>
                                </div>
                                <div class="padding ">
                                    <div class="row">
                                        <div class="col">
                                            <p class="pull-left home-label">DELAYED</p>
                                        </div>
                                        <div class="col">
                                            <p class="pull-left delayed bold  f16">{{getProjectReport.data.totalDelayedProjects.totalDelayedProjects}}</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                </div>
            </ion-content>
        </ion-tab>
        <!--<ion-tab title="PROJECTs">-->
        <ion-tab title="FUND ALLOCATIONS">
            <ion-content class="tabs-content bg-grey-light has-tabs-top has-notabs has-tabs tabs-content">
                <div class="pb50">
                    <div class="padding">
                        <div class="clearfix"></div>
                    </div>
                    <div class="card-institue no-space pb110">
                        <div ng-repeat="fundInstitute in InstituePagination track by $index" class="card card-institute-detail" ng-class="{'activeStatus':fundInstitute._id.componentStatus=='Active','onHoldStatus':fundInstitute._id.componentStatus=='OnHold','completedStatus':fundInstitute._id.componentStatus=='Completed'}"
                            ng-if="DashboardAllData.institute !== 'No data founds'">
                            <div class="no-pad">
                                <div class="paddings" ui-sref="app.overview({ componentId: fundInstitute._id.componentId})">
                                    <div class="card-institute-head">
                                        <div class="bg-blue">
                                            <div class="row pd0 bb">
                                                <div class="col-66 ">
                                                    <div class="inside-head triangle-up">
                                                        <!-- <div class="item-note dark">ID: 2244</div> -->
                                                        <div class="bold">{{fundInstitute._id.pab}}</div>
                                                    </div>
                                                </div>
                                                <div class="col-33">
                                                    <div class="text-center uppercase inside-head bl">{{fundInstitute._id.componentStatus}}</div>
                                                </div>
                                            </div>
                                            <div class="row pd0 mtop">
                                                <div class="col-66 ">
                                                    <div class="upgrade">
                                                        <div class="f16 pb15">{{fundInstitute._id.institute}}</div>

                                                        <div class="bold f16 uppercase">{{fundInstitute._id.stateName}}</div>

                                                    </div>
                                                </div>
                                                <div class="col-33 bl">
                                                    <div class="upgrade">
                                                        <div class="text-center allocation-made project-right">₹ (in lacs)
                                                            <!-- <h4 class="bold">{{fundInstitute._id.totalComponentAllocation/100000 | number:0}}</h4> Allocation -->
                                                            <h4 class="bold">{{fundInstitute.totalComponentAllocation/100000 | number:2}}</h4> Allocation

                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="infra-college bold">
                                            {{fundInstitute._id.component| uppercase}}
                                        </div>
                                    </div>
                                    <div class="clearfix"></div>
                                </div>
                                <div class="bg-footer-card">
                                    <div class="row pd0" ng-if="!card[$index]">
                                        <div class="col-66">
                                            <div class="ecommerce">
                                                <span class="for-badge"><button class="button button-icon ion-custom-ecommerce {{fundInstitute.classcommerce}}"></button> </span>
                                                <!-- <span class="for-badge"><button class="button button-icon ion-custom-ecommerce {{fundInstitute.classcommerce}}"></button> <span class="badge badge-one">1</span></span> -->
                                            </div>
                                        </div>
                                        <div class="col-33">
                                            <div class="setting-down triangle-down">
                                                <button class="button button-icon ion-chevron-down item-note btn-down btn-custom-icon" ng-click="cardopen($index,true)"></button>
                                                <button class="button button-icon ion-ios-cog btn-down btn-custom-icon " readmores ng-click="cardopen($index,true)"></button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="" ng-if="card[$index]">
                                    <div class="drop-institute">
                                        <div class="bg-blue">
                                            <div class="row">
                                                <div class="col">
                                                <!-- <div class="col-66"> -->
                                                    <div class="padding">
                                                        <div class="text-center project-right">Fund Utilization - ₹ (in lacs)</div>
                                                        <div class="chart-home institute-chart ">
                                                            <div class="chart-div" ng-init='initConfig(pieChart,((fundInstitute.centerReleasePerComponent/100000)+(fundInstitute.stateReleasePerComponent/100000)),(fundInstitute.amountUtilizedPerComponent/100000),(fundInstitute.totalComponentAllocation/100000))'>
                                                                <highchart id="gauge" class="meter-viewer" config="config" style="width: 400px; height: 400px; margin: 0 auto"></highchart>
                                                            </div>

                                                            <!-- <canvas id="doughnut" ng-if="$index%3===0" class="chart chart-doughnut" chart-data="data1" chart-labels="labels1" chart-colors="colors0"
                                                                  chart-dataset-override="override0"></canvas>
                                                                <canvas id="doughnut" ng-if="$index%3===1" class="chart chart-doughnut" chart-data="data1" chart-labels="labels1" chart-colors="colors1"
                                                                  chart-dataset-override="override1"></canvas>
                                                                <canvas id="doughnut" ng-if="$index%3===2" class="chart chart-doughnut" chart-data="data1" chart-labels="labels1" chart-colors="colors2"
                                                                  chart-dataset-override="override2"></canvas> -->
                                                            <h5 class="f16 bold card-50">
                                                              {{fundInstitute.amountUtilizedPercentagePerComponent | number :2}}%
                                                            </h5>
                                                        </div>
                                                        <div class="fund-dot">
                                                            <ul>


                                                                <li class="project-right"><i class="ion-record dot1"></i> Total Fund released:{{((fundInstitute.centerReleasePerComponent/100000 )+(fundInstitute.stateReleasePerComponent /100000-fundInstitute.centerReleasePerComponent/100000))|number :2}} /{{fundInstitute.totalComponentAllocation/100000
                                                                    |number :2}}</li>
                                                                <li class="project-right ma10"> Centre share released: {{fundInstitute.centerReleasePerComponent/100000 | number: 2}} / {{(fundInstitute.totalComponentAllocation *(fundInstitute._id.centerShare/100) )/100000 | number:2}}</li>
                                                                <li class="project-right ma10"> State share released: {{(fundInstitute.stateReleasePerComponent /100000) -(fundInstitute.centerReleasePerComponent/100000) | number: 2}} / {{(fundInstitute.totalComponentAllocation *(fundInstitute._id.stateShare/100))/100000 | number:2}}</li>
                                                                <li class="project-right"> <i class="ion-record fund-dot3"></i>
                                                                    <span class="item-note"></span>Fund utilization: {{fundInstitute.amountUtilizedPerComponent/100000 | number: 2}} / {{(fundInstitute.centerReleasePerComponent+fundInstitute.stateReleasePerComponent)/100000
                                                                    | number:2}} </li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- <div class="col-33 bl rl">
                                                    <div class="padding">
                                                        <div class="bar-status">
                                                            <div class="text-center project-right">Work Status</div>
                                                            <div class="text-center">
                                                                <div class="white-box">
                                                                    <div class="outer-capsule">



                                                                        <div class="capsule-bar" ng-if="(fundInstitute._id.componentWorkStatus/10 | number:0)>=10 "></div>
                                                                        <div class="capsule-bar" ng-if="(fundInstitute._id.componentWorkStatus/10 | number:0)>=9 "></div>
                                                                        <div class="capsule-bar" ng-if="(fundInstitute._id.componentWorkStatus/10 | number:0)>=8 "></div>
                                                                        <div class="capsule-bar" ng-if="(fundInstitute._id.componentWorkStatus/10 | number:0)>=7 "></div>
                                                                        <div class="capsule-bar" ng-if="(fundInstitute._id.componentWorkStatus/10 | number:0)>=6 "></div>
                                                                        <div class="capsule-bar" ng-if="(fundInstitute._id.componentWorkStatus/10 | number:0)>=5 "></div>
                                                                        <div class="capsule-bar" ng-if="(fundInstitute._id.componentWorkStatus/10 | number:0)>=4 "></div>
                                                                        <div class="capsule-bar" ng-if="(fundInstitute._id.componentWorkStatus/10 | number:0)>=3 "></div>
                                                                        <div class="capsule-bar" ng-if="(fundInstitute._id.componentWorkStatus/10 | number:0)>=2 "></div>
                                                                        <div class="capsule-bar" ng-if="(fundInstitute._id.componentWorkStatus/10 | number:0)>=1 "></div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="text-center bold dark f16 ">{{fundInstitute._id.componentWorkStatus}}%</div>
                                                        </div>

                                                    </div>
                                                    <div class="cert-bottom">
                                                        <div class="text-center project-right">Ut. Cert.</div>
                                                        <div class="text-center bold dark f16">0</div>
                                                    </div>
                                                </div> -->
                                            </div>
                                        </div>
                                    </div>
                                    <div class="bg-footer-card">
                                        <div class="row pd0">
                                            <div class="col-66">
                                                <div class="ecommerce">
                                                    <span class="for-badge"><button class="button button-icon ion-custom-ecommerce"></button> </span>
                                                    <!-- <span class="for-badge"><button class="button button-icon ion-custom-ecommerce"></button> <span class="badge badge-one">1</span></span> -->
                                                </div>
                                            </div>
                                            <div class="col-33">
                                                <div class="setting-down triangle-down">
                                                    <button class="button button-icon ion-ios-cog btn-down btn-custom-icon" ng-click="cardopen($index,false)"></button>
                                                    <button class="button button-icon ion-chevron-up item-note btn-down btn-custom-icon" ng-click="cardopen($index,false)" ng-if="card[$index]"></button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <ion-infinite-scroll on-infinite="loadMore()" distance="2%">
                         </ion-infinite-scroll>
                    </div>
                </div>
            </ion-content>
        </ion-tab>

        <!--<ion-tab title="STATES">
      <ion-content class="tabs-content states-background">
        <div class="pb110">
          <div class="bar bar-header item-input-inset search-bar">
            <button class="button button-stable text-center">
          All States
           <i class="ion ion-ios-arrow-down right-arrow"></i>
        </button>
            <label class="item-input-wrapper">
          <input type="search" placeholder="Search by State name">
          <i class="icon ion-ios-search-strong placeholder-icon"></i>
        </label>
          </div>
          <div class="card state-card" ng-repeat="state in states">
            <a href="#/app/state" class="item">{{state}}</a>
          </div>
        </div>
      </ion-content>
    </ion-tab>-->
        <!-- <ion-tab title="OVERVIEW">
    </ion-tab> -->
    </ion-tabs>
</ion-view>
